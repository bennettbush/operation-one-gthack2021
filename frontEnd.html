<!DOCTYPE html>
<html>
<body>

  <h2 style="text-align: center;">What is the name of your assignment?</h2>

  <form action="" style="text-align: center;">
    <label for="assignment">Assignment Name:</label>
    <input type="text" id="assignment" name="assignment"<br>
  </form>

  <h2 style="text-align: center;">When is the deadline?</h2>

  <form action="" style="text-align: center;">
    <label for="deadline">Deadline:</label>
    <input type="date" id="deadline" name="deadline"<br>
  </form>

  <h2 style="text-align: center;">How much time will the assignment take?</h2>
  <form action="" style="text-align: center;">
    <label for="durationTime">Duration (hours):</label>
    <input type="number" min="1" step="1" id="durationTime" name="durationTime"<br>
  </form>

  <h2 style="text-align: center;">Would you like to break it into chunks?</h2>
  <form action="" style="text-align: center;">
    <label for="chunks">Chunks:</label>
    <select id="chunks" name="chunks">
      <option value="1">Yes</option>
      <option value="0">No</option>
    </select>
  </form>

  <script>
    var baseURL = 'https://calendar-optimization.herokuapp.com/time-allocation';
    let btn = document.createElement("button");
    btn.innerHTML = "Submit";
    //btn.onclick() = function() {buttonHandler()};
    btn.addEventListener("click", function() {
      buttonHandler();
    });
    function buttonHandler() {
        var assignment = document.getElementById('assignment').value;
        var deadline = document.getElementById('deadline').value;
        var durationTime = document.getElementById('durationTime').value;
        var blocks = document.getElementById('chunks').value;

        var data = {
          'event_name': assignment,
          'deadline': deadline,
          'hours': durationTime,
          'blocks': blocks,
        }
        var options = {
          'method' : 'post',
          'contentType': 'application/json',
          'payload': JSON.stringify(data),
        }
        //alert("working!!!! "+ assignment + deadline + durationTime + blocks);
        var response = UrlFetchApp.fetch(baseURL, options);
    }
    document.body.appendChild(btn);
  </script>




  <!-- <script>
  var name = window.prompt("Enter your name: ");
  let btn = document.createElement("button");
  btn.innerHTML = "Submit";
  btn.addEventListener("click", function(event) {
    alert(this.value + "Your submission has been entered.");
  });
  document.body.appendChild(btn);

  document.getElementById("assignment")
  </script> -->

</body>
</html>
